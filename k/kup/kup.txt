単体で2Kを超えるマスは、banする。
また、単体で条件を満たすものがあればそれを出力すればいい。

すると、各マスはbanされているか、K未満である。

実は、banされたマスを含まずに、
コスト合計がK以上となるような長方形を一つ見つけられれば十分である。

なぜなら、今持っている長方形が2K以下なら終わりで、
そうでないときはどちらかの軸に沿って2つに分けるとどちらかはK以上であり続けるためである。(合計が2Kを超えているため)
この手順を繰り返していくと、validな長方形にたどり着くか、あるいは分割不可能(すなわち、単体)となる。

ところが、単体になったとすると、コストがK以上の単体が存在することになり、前処理の内容に矛盾する。



あとは長方形を1つ見つければいい。コストは正なので、極大なものだけ考えればいい。
すると、最大長方形を見つけるときの応用で極大な長方形をすべてチェックすることができる。
終わり。O(N^2)


