2*A<=Bなら、何も考えなくていい。
Aのみで最短路問題を解く。この距離が偶数なら、全部Bに置き換えられるし、これが最適。
奇数のときは、1つを除いてBに置き換えられる。これは、Aを1つ以上使う経路の中で最適になっていることが示せる。
したがって、あとはBのみでの最短路問題を解けばいい。

これは、比較的愚直にやっていい(ただし、無駄だと分かった辺はすぐに消す)
すると、辺が消えるのはO(M)回であるから、辺が消えなかった回数が問題になる。
これは、グラフ中のトライアングルの数*3で上から抑えられて、O(Msqrt(M))
